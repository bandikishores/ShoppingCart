CREATE TABLE LOGIN 
(
  USERNAME VARCHAR2(20) NOT NULL 
, PASSWORD VARCHAR2(50) NOT NULL 
, FIRST_NAME VARCHAR2(20) NOT NULL 
, LAST_NAME VARCHAR2(20) NOT NULL 
, ADDRESS VARCHAR2(20) NOT NULL 
, CITY VARCHAR2(20) NOT NULL 
, STATE VARCHAR2(20) NOT NULL 
, COUNTRY VARCHAR2(20) NOT NULL 
, CONTACT VARCHAR2(20) 
, EMAIL VARCHAR2(30) 
, TYPE VARCHAR2(20) DEFAULT 'CUSTOMER' NOT NULL 
, CONSTRAINT LOGIN_PK PRIMARY KEY 
  (
    USERNAME 
  )
  ENABLE 
);


CREATE SEQUENCE CATEGORY_ID_SEQ INCREMENT BY 1 START WITH 1 MAXVALUE 99999 MINVALUE 0 NOCACHE;


CREATE TABLE CATEGORY 
(
  CAT_NAME VARCHAR2(200) NOT NULL 
, CAT_DESCRIPTION VARCHAR2(200) NOT NULL 
, CAT_ID NUMBER NOT NULL 
, CONSTRAINT CATEGORY_PK PRIMARY KEY 
  (
    CAT_ID 
  )
  ENABLE 
);

ALTER TABLE CATEGORY
ADD CONSTRAINT CATEGORY_UK1 UNIQUE 
(
  CAT_NAME 
)
ENABLE;




CREATE SEQUENCE ITEM_ID_SEQ INCREMENT BY 1 START WITH 1 MAXVALUE 99999 MINVALUE 0 NOCACHE;

CREATE TABLE ITEMS 
(
  ITEM_ID NUMBER NOT NULL 
, ITEM_NAME VARCHAR2(50) NOT NULL 
, ITEM_DESC VARCHAR2(200) NOT NULL 
, IMAGE_URL VARCHAR2(200) 
, CAT_ID NUMBER NOT NULL 
, COST NUMBER(15, 5) NOT NULL 
, QTY NUMBER NOT NULL 
, CREATED_USER VARCHAR2(20) NOT NULL
, CONSTRAINT ITEMS_PK PRIMARY KEY 
  (
    ITEM_ID 
  )
  ENABLE 
);

ALTER TABLE ITEMS
ADD CONSTRAINT ITEMS_CATEGORY_FK1 FOREIGN KEY
(
  CAT_ID 
)
REFERENCES CATEGORY
(
  CAT_ID 
)
ENABLE;

ALTER TABLE ITEMS
ADD CONSTRAINT ITEMS_LOGIN_FK2 FOREIGN KEY
(
  CREATED_USER 
)
REFERENCES LOGIN
(
  USERNAME 
)
ENABLE;





CREATE SEQUENCE CART_ID_SEQ INCREMENT BY 1 START WITH 1 MAXVALUE 99999 MINVALUE 0 NOCACHE;




CREATE TABLE CART 
(
  CART_ID NUMBER NOT NULL 
, ITEM_ID NUMBER NOT NULL 
, QTY NUMBER DEFAULT 0 NOT NULL 
, USERNAME VARCHAR2(20) NOT NULL 
, CONSTRAINT CART_PK PRIMARY KEY 
  (
    CART_ID 
  )
  ENABLE 
);

ALTER TABLE CART
ADD CONSTRAINT CART_ITEMS_FK1 FOREIGN KEY
(
  ITEM_ID 
)
REFERENCES ITEMS
(
  ITEM_ID 
)
ENABLE;

ALTER TABLE CART
ADD CONSTRAINT CART_LOGIN_FK1 FOREIGN KEY
(
  USERNAME 
)
REFERENCES LOGIN
(
  USERNAME 
)
ENABLE;







CREATE SEQUENCE ORDER_ID_SEQ INCREMENT BY 1 START WITH 1 MAXVALUE 99999 MINVALUE 0 NOCACHE;


CREATE TABLE ORDERS 
(
  ORDER_ID NUMBER NOT NULL
, STATUS VARCHAR2(20) DEFAULT 'PROCESSING' NOT NULL 
, USERNAME VARCHAR2(20) NOT NULL 
, ITEM_NAME VARCHAR2(50) NOT NULL 
, ITEM_DESC VARCHAR2(200) NOT NULL 
, QTY NUMBER NOT NULL 
, COST NUMBER(15, 5) NOT NULL 
, CONSTRAINT ORDERS_PK PRIMARY KEY 
  (
    ORDER_ID 
  )
  ENABLE 
);

ALTER TABLE ORDERS
ADD CONSTRAINT ORDERS_LOGIN_FK1 FOREIGN KEY
(
  USERNAME 
)
REFERENCES LOGIN
(
  USERNAME 
)
ENABLE;




